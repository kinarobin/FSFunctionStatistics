<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>测试函数耗时输出</title>
    <link rel="stylesheet" href="layui/css/layui.css">
    <link rel="stylesheet" href="css/demo.css">
</head>
<body>

<script src="layui/layui.js"></script>
<table id="demoTreeTb"></table>

<script>
    function getQueryVariable(variable)
    {
       var query = window.location.search.substring(1);
       var vars = query.split("&");
       for (var i=0;i<vars.length;i++) {
               var pair = vars[i].split("=");
               if(pair[0] == variable){return pair[1];}
       }
       return(false);
    }

    layui.use(['treeTable'], function () {
        var $ = layui.jquery;
        var treeTable = layui.treeTable;

        // 渲染树形表格
        var insTb = treeTable.render({
            elem: '#demoTreeTb',
//           data: data,
            url: getQueryVariable("data"),
            tree: {
                iconIndex: 1,           // 折叠图标显示在第几列
                isPidData: true,        // 是否是id、pid形式数据
                idName: 'id',  // id字段名称
                pidName: 'pid'     // pid字段名称
            },
            cols: [[
                {type: 'numbers'},
                //{field: 'id', title: 'ID'},
                {field: 'name', title: '函数名'},
                {field: 'cost', title: '耗时(us)'}
            ]]
        });

    });
</script>

</body>
</html>